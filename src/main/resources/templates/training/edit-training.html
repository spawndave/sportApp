<!DOCTYPE html>
<html
        layout:decorate="~{layout/layout}"
        th:with="activeMenuItem ='dashboard'"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Edit training</title>
</head>
<body>
<div class="container px-6 py-4" layout:fragment="page-content">
    <div class="max-w-7xl mx-auto px-4 py-4 sm:px-6 md:px-8">
        <h1 class="text-2xl font-semibold text-gray-900"
            th:text="#{coach.edit_training}">
        </h1>
    </div>
    <div class="w-full md:w-3/4 md:max-w-full mx-auto">
        <div class="p-6 border border-gray-300 sm:rounded-md">
            <label class="block mb-6 text-gray-900">
                <span class="text-gray-700">Coach: </span>
                <p class="text-gray-900" th:text="${training.coach.fullName}"></p>
            </label>
            <form id="training-form"
                  th:object="${training}"
                  th:action="@{/training/edit}"
                  method="post">
                <input type="hidden" th:field="*{id}" th:value="${training.id}"/>
                <label class="block mb-6">
                    <span class="text-gray-700">Name</span>
                    <input class=" block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 "
                            name="name" placeholder="" type="text"
                           th:field="*{name}"
                           th:value="${training.name}"/>
                </label>

                <label class="block mb-6">
                    <span class="text-gray-700">Exercises</span>
                    <textarea class=" block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 "
                              name="description" placeholder="description" rows="3"
                              th:field="*{description}"
                              th:text="${training.description}">
                    </textarea>
                </label>
                <label class="block mb-6">
                    <span class="text-gray-700">Location</span>
                    <input class=" block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 "
                            name="location"placeholder="" type="text"
                           th:field="*{location}"
                           th:value="${training.location}" />
                </label>
                <label class="block mb-6">
                    <span class="text-gray-700">Date</span>
                    <input class=" block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                            name="date" placeholder="Select date" type="date"
                           th:field="*{date}"
                           th:value="${training.date}"/>
                </label>

                    <label class="block mb-6  mt-1">
                        <div class="text-gray-700 w-3/4 flex justify-between">
                            <p class="w-2/4">Participants</p>
                            <div  th:replace="~{fragments/titles :: buttonLink('Add participant', @{{username}/add_participant/{id}(username=${training.coach.username}, id=${training.id})})}"></div>
                        </div>

                        <ul class=" mt-1 text-sm leading-5 ">
                            <li  class="flex-row" th:each="participant: ${training.participants}">
                                <a class ="text-cyan-500" th:href="@{edit-training/{training_id}/{id}(training_id=${training.id}, id=${participant.athlete.data.id})}"
                                    th:text="${participant.athlete.data.fullName}">
                                </a>
                                <span class="py-1 text-indigo-700"><a class="text-indigo-700" th:href="@{/training/remove_participant/{id}(id=${training.id})}" > - Remove participant</a> </span>
                            </li>
                        </ul>
                    </label>



                <div class="mb-6">
                    <button class=" h-10 px-5 text-indigo-100 bg-indigo-700 rounded-lg transition-colors duration-150 focus:shadow-outline hover:bg-indigo-800 " id="form-submit" type="submit">
                        Save
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
</div>
</body>
</html>